<template>
	<main class="content">
		<form action="#" method="post">

			<div class="content__wrapper">
			<h1 class="title title--big">Конструктор пиццы</h1>

			<div class="content__dough">

				<div class="sheet">
				<h2 class="title title--small sheet__title">Выберите тесто</h2>

				<div class="sheet__content dough">
					<label
						v-for="dough in normalizedDoughs"
						class="dough__input"
						:class="`dough__input--${ dough.size }`"
						:key="dough.id"
					>
							<input type="radio" name="dough"
							:value="dough.size"
							class="visually-hidden" checked>
							<b>{{ dough.name}}</b>
							<span>{{ dough.description}}</span>
					</label>

					<!-- <label class="dough__input dough__input--light">
						<input type="radio" name="dought" value="light" class="visually-hidden" checked>
						<b>Тонкое</b>
						<span>Из твердых сортов пшеницы</span>
					</label>

					<label class="dough__input dough__input--large">
						<input type="radio" name="dought" value="large" class="visually-hidden">
						<b>Толстое</b>
						<span>Из твердых сортов пшеницы</span>
					</label> -->
				</div>

				</div>

			</div>

			<div class="content__diameter">
				<div class="sheet">
				<h2 class="title title--small sheet__title">Выберите размер</h2>

				<div class="sheet__content diameter">

					<label
						v-for="size in normalizedSizes"
						class="diameter__input"
						:class="`diameter__input--${ size.diametr }`"
						:key="size.id"
					>
						<input type="radio" name="diameter"
						:value="size.diametr"
						class="visually-hidden">
						<span>{{ size.name }}</span>
					</label>

					<!-- <label class="diameter__input diameter__input--small">
					<input type="radio" name="diameter" value="small" class="visually-hidden">
					<span>23 см</span>
					</label>
					<label class="diameter__input diameter__input--normal">
					<input type="radio" name="diameter" value="normal" class="visually-hidden" checked>
					<span>32 см</span>
					</label>
					<label class="diameter__input diameter__input--big">
					<input type="radio" name="diameter" value="big" class="visually-hidden">
					<span>45 см</span>
					</label> -->
				</div>
				</div>
			</div>

			<div class="content__ingredients">
				<div class="sheet">
				<h2 class="title title--small sheet__title">Выберите ингредиенты</h2>

				<div class="sheet__content ingredients">

					<div class="ingredients__sauce">
					<p>Основной соус:</p>

					<label v-for="sauce in normalizedSauces"
						class="radio ingredients__input"
						:key="sauce.id"
					>
						<input type="radio" name="sauce" :value="sauce.eng_name" checked>
						<span>{{ sauce.name }}</span>
					</label>


					<!-- <label class="radio ingredients__input">
						<input type="radio" name="sauce" value="tomato" checked>
						<span>Томатный</span>
					</label>
					<label class="radio ingredients__input">
						<input type="radio" name="sauce" value="creamy">
						<span>Сливочный</span>
					</label> -->

					</div>

					<div class="ingredients__filling">
					<p>Начинка:</p>

					<ul class="ingredients__list">

						<li v-for="ingredient in normalizedIngredients"
							class="ingredients__item"
							:key="ingredient.id"
						>
						<span class="filling"
							:class="`filling--${ ingredient.eng_name }`">{{ ingredient.name }}</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li>


						<!-- <li class="ingredients__item">
						<span class="filling filling--mushrooms">Грибы</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li>
						<li class="ingredients__item">
						<span class="filling filling--cheddar">Чеддер</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li>
						<li class="ingredients__item">
						<span class="filling filling--salami">Салями</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li>
						<li class="ingredients__item">
						<span class="filling filling--ham">Ветчина</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li>
						<li class="ingredients__item">
						<span class="filling filling--ananas">Ананас</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li>
						<li class="ingredients__item">
						<span class="filling filling--bacon">Бекон</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li>
						<li class="ingredients__item">
						<span class="filling filling--onion">Лук</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li>
						<li class="ingredients__item">
						<span class="filling filling--chile">Чили</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li>
						<li class="ingredients__item">
						<span class="filling filling--jalapeno">Халапеньо</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li>
						<li class="ingredients__item">
						<span class="filling filling--olives">Маслины</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li>
						<li class="ingredients__item">
						<span class="filling filling--tomatoes">Томаты</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li>
						<li class="ingredients__item">
						<span class="filling filling--salmon">Лосось</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li>
						<li class="ingredients__item">
						<span class="filling filling--mozzarella">Моцарелла</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li>
						<li class="ingredients__item">
						<span class="filling filling--parmesan">Пармезан</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li>
						<li class="ingredients__item">
						<span class="filling filling--blue_cheese">Блю чиз</span>

						<div class="counter counter--orange ingredients__counter">
							<button type="button" class="counter__button counter__button--minus" disabled>
							<span class="visually-hidden">Меньше</span>
							</button>
							<input type="text" name="counter" class="counter__input" value="0">
							<button type="button" class="counter__button counter__button--plus">
							<span class="visually-hidden">Больше</span>
							</button>
						</div>
						</li> -->
					</ul>

					</div>

				</div>
				</div>
			</div>

			<div class="content__pizza">
				<label class="input">
				<span class="visually-hidden">Название пиццы</span>
				<input type="text" name="pizza_name" placeholder="Введите название пиццы">
				</label>

				<div class="content__constructor">
				<div class="pizza pizza--foundation--big-tomato">
					<div class="pizza__wrapper">
					<div class="pizza__filling pizza__filling--ananas"></div>
					<div class="pizza__filling pizza__filling--bacon"></div>
					<div class="pizza__filling pizza__filling--cheddar"></div>
					</div>
				</div>
				</div>

				<div class="content__result">
				<p>Итого: 0 ₽</p>
				<button type="button" class="button" disabled>Готовьте!</button>
				</div>
			</div>

			</div>

		</form>
	</main>
</template>

<script setup>
	import doughs from '@/mocks/dough.json'
	import sizes from '@/mocks/sizes.json'
	import sauces from '@/mocks/sauces.json'
	import ingredients from '@/mocks/ingredients.json'

	import { normalizeDough, normalizeSize,  normalizeSauce, normalizeIngredient } from '@/common/helpers/normalize.js'

	const normalizedDoughs = doughs.map(dough => normalizeDough(dough))
	const normalizedSizes = sizes.map(size => normalizeSize(size))
	const normalizedSauces = sauces.map(sauce => normalizeSauce(sauce))
	const normalizedIngredients = ingredients.map(ingredient => normalizeIngredient(ingredient))

</script>